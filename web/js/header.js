"use strict";var header=document.querySelector(".header"),headerInfo=header.querySelector(".header__info"),headerBlock=header.querySelector(".header__block"),headerInfoMenu=header.querySelector(".header__info-menu"),headerTopMenuItems=headerInfoMenu.querySelectorAll(".g-link"),headerMiddleMenuItems=header.querySelectorAll(".topmenu__item-link"),headerMenuButton=header.querySelector(".header__menu-button"),isMobileMenuVisible=!1,isMobileCatalogVisible=!1;function initMobileMenu(){var e=document.createElement("div");e.classList.add("mobile-menu"),Object.assign(e.style,{display:"flex",flexFlow:"column nowrap",width:"calc(100vw - 24px)",maxWidth:"400px",transform:"translateX(12px)",padding:"32px",borderRadius:"15px",background:"white",boxShadow:"0px 0px 18px rgba(0, 0, 0, 0.25)",zIndex:"999",position:"relative",overflow:"auto",maxHeight:"550px"});var t=document.createElement("ul"),n=document.createElement("ul");function a(e,i){e.forEach(function(e,t){var n,a=document.createElement("li");a.classList.add("unitLi"),e.sublink?(a.innerHTML='\n                <li>\n                    <a href="'.concat(e.href,'" class="mnuSub" data-linkvalue=').concat(t,">").concat(e.link,'</a>\n                    <svg class="svg-sprite-icon icon-r">\n    \t\t\t\t    <use xlink:href="web/images/sprite/symbol/sprite.svg#r"></use>\n    \t\t\t    </svg>\n                </li>\n                <ul>\n                </ul>\n            '),(n=document.createElement("ul")).classList.add("hideSubs"),n.setAttribute("data-ulvalue",t),e.sublink.forEach(function(e){n.innerHTML+='\n                        <li>\n                            <a href="#">'.concat(e,"</a>\n                        </li>\n                    "),a.append(n)})):a.innerHTML='\n                <li>\n                    <a href="'.concat(e.href,'">').concat(e.link,"</a>\n                </li>\n            "),Object.assign(a.style,{fontWeight:"500",margin:"0 0 16px 0",fontSize:"18px"}),i.append(a)})}a([{link:"Услуги",href:"#",sublink:["Пункт усуги 1","Пункт усуги 2","Пункт усуги 3"]},{link:"Отраслевые решения",href:"#"},{link:"Подбор решения",href:"#",sublink:["Пункт подбор решения 1","Пункт подбор решения 2"]},{link:"% Распродажа",href:"#"}],t),a([{link:"О компании",href:"#"},{link:"Доставка и оплата",href:"#"},{link:"Сервис и поддержка",href:"#"},{link:"Контакты",href:"#"}],n),Object.assign(t.style,{borderBottom:"1px solid rgba(0, 0, 0, 0.1)",margin:"0 0 24px 0",padding:"0 0 8px 0"});var i=document.createElement("div");i.innerHTML='\n        <a href="tel: 84952293084">+7(495)229-30-84</a>\n        <span>С 9-18 с понедельника по пятницу</span>\n    ',Object.assign(i.style,{display:"flex",flexFlow:"column nowrap",alignItems:"center"});var l=i.querySelector("a");Object.assign(l.style,{fontSize:"24px",margin:"0 0 17px 0",fontWeight:"700",letterSpacing:"4px"}),l.classList.add("g-link"),l.classList.add("ffRubik");l=i.querySelector("span");Object.assign(l.style,{color:"#A3A3A3"}),e.append(t),e.append(n),e.append(i),header.append(e),isMobileMenuVisible=!0}function destroyMobileMenu(){var e;isMobileMenuVisible&&(e=document.querySelector(".mobile-menu"),header.removeChild(e),isMobileMenuVisible=!isMobileMenuVisible)}headerMenuButton.addEventListener("click",function(){isMobileMenuVisible?(destroyMobileMenu(),headerMenuButton.classList.remove("active")):(initMobileMenu(),headerMenuButton.classList.add("active"),catalogButton.classList.contains("active")&&(catalogButton.classList.remove("active"),destroyCatalogDrop(),isMobileCatalogVisible=!1))});var submenu=document.querySelector(".submenu"),submenuColumns=submenu.querySelectorAll(".submenu__column"),catalogButton=document.querySelector(".header__catalog"),submenuLists=[];function initCatalogDrop(){var a=[];submenuLists.forEach(function(e){var t=e.querySelector("span").innerHTML,e=e.querySelectorAll("a"),n={title:t,nestedLinks:[]};e.forEach(function(e){var t=e.innerHTML,e=e.getAttribute("href");n.nestedLinks.push({linkTitle:t,linkHref:e})}),a.push(n)});var i=document.createElement("div");i.classList.add("mobile-catalog-drop");var l=document.createElement("ul");l.classList.add("mobile-catalog-first-level"),a.forEach(function(e){var t=document.createElement("li");t.innerHTML="\n            ".concat(e.title,"\n        "),l.append(t),t.addEventListener("click",function(){return function(e){var n=document.createElement("ul");n.classList.add("nested-list");var t=document.createElement("button");t.classList.add("nested-list-header__button"),t.innerHTML="\n            ".concat(e.title,"\n        "),t.addEventListener("click",function(){i.removeChild(n),i.append(l)}),n.append(t);t=document.createElement("a");t.classList.add("nested-gray"),t.classList.add("g-link"),t.innerHTML="Смотреть все товары категории",n.append(t),e.nestedLinks.forEach(function(e){var t=document.createElement("li");t.classList.add("nested-link-element"),t.innerHTML='\n                <a href="'.concat(e.linkHref,'">').concat(e.linkTitle,"</a>\n            "),n.append(t)}),i.removeChild(l),i.append(n)}(e)})}),i.append(l),header.append(i)}function destroyCatalogDrop(){var e=header.querySelector(".mobile-catalog-drop");header.removeChild(e)}catalogButton.addEventListener("click",function(){catalogButton&&(isMobileCatalogVisible?(destroyCatalogDrop(),isMobileCatalogVisible=!1,catalogButton.classList.remove("active")):(initCatalogDrop(),isMobileCatalogVisible=!0,catalogButton.classList.add("active"),headerMenuButton.classList.contains("active")&&(headerMenuButton.classList.remove("active"),destroyMobileMenu())))}),submenuColumns.forEach(function(e){e.querySelectorAll("ul").forEach(function(e){return submenuLists.push(e)})}),document.addEventListener("click",function(t){document.querySelectorAll(".mnuSub");var e=document.querySelectorAll(".hideSubs");t.target.classList.contains("mnuSub")&&(t.preventDefault(),e.forEach(function(e){t.target.getAttribute("data-linkValue")==e.getAttribute("data-ulValue")&&(e.style.maxHeight?(e.style.maxHeight=null,t.target.classList.remove("active")):(e.style.maxHeight=e.scrollHeight+"px",t.target.classList.add("active")))}))});